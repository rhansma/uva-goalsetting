<section data-ng-controller="GoalsController" data-ng-init="find()">
<div class="row" data-ng-show="teacher">
  <div class="small-6 columns">
      <div class="switch small">
        <input id="editMode" data-ng-model="edit" type="checkbox">
        <label for="editMode">Edit mode</label>
        <span>Edit and rate goals</span>
      </div>
  </div>
  <div class="small-6 columns">
      <div data-ng-show="teacher && edit">
         <a class="tiny button right" data-ng-click="publish();">Publish!</a>
        <a class="tiny button right" data-ng-click="save();">Save</a>
      </div>

  </div>
</div>

  <div class="row goals">
    <div class="small-12 medium-6 large-4 end columns" data-ng-repeat="goal in goals">
      <div class="goal panel">
        <a data-ng-href="#!/goals/{{goal._id}}">
          <h6>Goal</h6>
          <h4 data-ng-bind="goal.title"></h4>
          <small>
            Created on
            <span data-ng-bind="goal.created | amDateFormat:'MMMM Do YYYY'"></span>
            by
            <span data-ng-bind="goal.creator.displayName"></span>
          </small>
          <br />
          <span data-ng-bind="goal.content"></span>
        </a>
        <!-- Teacher options -->
        <div data-ng-show="teacher && edit">
          <input type="number" min="1" max="10" data-ng-model="goal.rating" />
        </div>
        <div data-ng-show="teacher && edit">
          <a class="button tiny" data-ng-click="remove(goal);"><i class="fa fa-trash-o fa-lg"></i> Delete</a>
        </div>
        
      </div>
    </div>
  </div>

  <div class="row">
    <div class="small-12 columns">
      <div data-ng-if="goals.$resolved && !goals.length">
        No goals yet, why don't you <a href="/#!/goals/create">create one</a>?
      </div>
      <a class="medium button right" data-ng-href="/#!/goals/commit">Commit to goals</a>
    </div>
  </div>

</section>