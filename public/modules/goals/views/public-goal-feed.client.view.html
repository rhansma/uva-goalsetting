<section data-ng-controller="GoalsController" data-ng-init="find()">
  <div class="row" data-ng-show="teacher">
    <div class="small-6 columns">
      <div class="switch small">
        <input id="editMode" data-ng-model="edit" type="checkbox">
        <label for="editMode">Edit mode</label>
        <span>Edit and rate goals</span>
      </div>
    </div>
    <div class="small-6 columns">
      <div data-ng-show="teacher && edit">
        <a class="tiny button right" data-ng-click="publish();">Publish!</a>
        <a class="tiny button right" data-ng-click="save();">Save</a>
      </div>
    </div>
  </div>
  <div class="row goals">
    <div class="small-12 medium-6 large-4 end columns" data-ng-repeat="goal in goals">
      <div class="goal panel">
        <a data-ng-href="#!/goals/{{goal._id}}">
          <h6>Goal</h6>
          <h4 data-ng-bind="goal.title"></h4>
          <small>
            Created on
            <span data-ng-bind="goal.created | amDateFormat:'MMMM Do YYYY'"></span>
          </small>
          <hr />
          <span data-ng-bind="goal.content"></span>
        </a>
        <!-- Teacher options -->
        <div class="row goals-edit" data-ng-show="teacher && edit">
          <div class="small-4 small-offset-5 columns">
            Rating: <input type="number" min="1" max="10" data-ng-model="goal.rating" name="rating"/>
          </div>
          <div class="small-3 columns" data-ng-show="teacher && edit">
            <a class="right" data-ng-click="remove(goal);"><i class="fa fa-trash-o"></i> Delete</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>